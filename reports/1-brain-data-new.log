Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
fig_gm = Plot(dataset, plot_name = 'new-fig-2')

fig_gm.title = 'Brain gray matter qMRI microstructure'

fig_gm.display('notebook', tissue = 'GM')
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
Input [0;32mIn [4][0m, in [0;36m<cell line: 5>[0;34m()[0m
[1;32m      1[0m fig_gm [38;5;241m=[39m Plot(dataset, plot_name [38;5;241m=[39m [38;5;124m'[39m[38;5;124mnew-fig-2[39m[38;5;124m'[39m)
[1;32m      3[0m fig_gm[38;5;241m.[39mtitle [38;5;241m=[39m [38;5;124m'[39m[38;5;124mBrain gray matter qMRI microstructure[39m[38;5;124m'[39m
[0;32m----> 5[0m [43mfig_gm[49m[38;5;241;43m.[39;49m[43mdisplay[49m[43m([49m[38;5;124;43m'[39;49m[38;5;124;43mnotebook[39;49m[38;5;124;43m'[39;49m[43m,[49m[43m [49m[43mtissue[49m[43m [49m[38;5;241;43m=[39;49m[43m [49m[38;5;124;43m'[39;49m[38;5;124;43mGM[39;49m[38;5;124;43m'[39;49m[43m)[49m

File [0;32m~/work/anat-processing-book/anat-processing-book/source/tools/plot.py:94[0m, in [0;36mPlot.display[0;34m(self, env, tissue)[0m
[1;32m     91[0m figb [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39madd_points(figb, matrix, trace_name)
[1;32m     93[0m [38;5;66;03m# Add mean line to plot[39;00m
[0;32m---> 94[0m figb, line [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43madd_lines[49m[43m([49m[43mfigb[49m[43m,[49m[43m [49m[43mmatrix[49m[43m,[49m[43m [49m[43mtrace_name[49m[43m)[49m
[1;32m     96[0m [38;5;66;03m# Add std shaded area to plot[39;00m
[1;32m     97[0m figb, std_area [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39madd_std_area(figb, matrix, trace_name, line)

File [0;32m~/work/anat-processing-book/anat-processing-book/source/tools/plot.py:249[0m, in [0;36mPlot.add_lines[0;34m(self, figb, matrix, trace_name)[0m
[1;32m    246[0m         visible[38;5;241m=[39m[38;5;28;01mFalse[39;00m
[1;32m    248[0m     [38;5;66;03m# Add dotted line[39;00m
[0;32m--> 249[0m     [43mfigb[49m[38;5;241;43m.[39;49m[43madd_trace[49m(go[38;5;241m.[39mScatter(x[38;5;241m=[39mx, 
[1;32m    250[0m                             y[38;5;241m=[39m[line[metric]][38;5;241m*[39m[38;5;241m8[39m,
[1;32m    251[0m                             mode[38;5;241m=[39m[38;5;124m'[39m[38;5;124mlines[39m[38;5;124m'[39m,
[1;32m    252[0m                             visible[38;5;241m=[39mvisible,
[1;32m    253[0m                             name[38;5;241m=[39mtrace_name[metric],
[1;32m    254[0m                             opacity[38;5;241m=[39m[38;5;241m0.5[39m, 
[1;32m    255[0m                             line[38;5;241m=[39m[38;5;28mdict[39m(color[38;5;241m=[39mline_color, 
[1;32m    256[0m                                         width[38;5;241m=[39m[38;5;241m2[39m,
[1;32m    257[0m                                         dash[38;5;241m=[39m[38;5;124m'[39m[38;5;124mdot[39m[38;5;124m'[39m)))
[1;32m    258[0m [38;5;28;01mreturn[39;00m figb, line

[0;31mAttributeError[0m: 'NoneType' object has no attribute 'add_trace'
AttributeError: 'NoneType' object has no attribute 'add_trace'

